<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - SLSU EE Tracer</title>
    <link rel="stylesheet" href="css/admin.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="sidebar">
      <div class="sidebar-header">
        <img src="images/slsu-logo.png" alt="SLSU Logo" class="sidebar-logo" />
        <h3>Admin Panel</h3>
      </div>
      <ul class="sidebar-menu">
        <li class="menu-item active" data-section="dashboard">
          <i class="fas fa-chart-line"></i>
          <span>Dashboard</span>
        </li>
        <li class="menu-item" data-section="alumni">
          <i class="fas fa-users"></i>
          <span>Alumni Management</span>
        </li>
        <li class="menu-item" data-section="add">
          <i class="fas fa-user-plus"></i>
          <span>Add Alumni</span>
        </li>
        <li class="menu-item" data-section="settings">
          <i class="fas fa-cog"></i>
          <span>Admin Settings</span>
        </li>
        <li class="menu-item" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </li>
      </ul>
    </div>

    <div class="main-content">
      <header class="admin-header">
        <div class="header-left">
          <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
          </button>
          <h1 id="pageTitle">Dashboard</h1>
        </div>
        <div class="header-right">
          <div class="admin-profile">
            <i class="fas fa-user-circle"></i>
            <span>Administrator</span>
          </div>
        </div>
      </header>

      <!-- Dashboard Section -->
      <section id="dashboard-section" class="content-section active">
        <div class="stats-overview">
          <div class="stat-box">
            <div class="stat-icon blue">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-info">
              <h3 id="dashTotalAlumni">0</h3>
              <p>Total Alumni</p>
            </div>
          </div>
          <div class="stat-box">
            <div class="stat-icon green">
              <i class="fas fa-briefcase"></i>
            </div>
            <div class="stat-info">
              <h3 id="dashEmployed">0</h3>
              <p>Employed</p>
            </div>
          </div>
          <div class="stat-box">
            <div class="stat-icon yellow">
              <i class="fa-solid fa-id-card"></i>
            </div>
            <div class="stat-info">
              <h3 id="dashLicensed">0</h3>
              <p>Licensed</p>
            </div>
          </div>
          <div class="stat-box">
            <div class="stat-icon purple">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="stat-info">
              <h3 id="dashBatches">0</h3>
              <p>Batches</p>
            </div>
          </div>
        </div>

        <div class="dashboard-charts">
          <div class="chart-card">
            <h3>Alumni by Batch</h3>
            <div id="batchChart" class="chart-container"></div>
          </div>
          <div class="chart-card">
            <h3>Employment Status</h3>
            <div id="employmentChart" class="chart-container"></div>
          </div>
        </div>

        <div class="recent-activity">
          <h3>Recent Updates</h3>
          <div class="activity-list" id="activityList">
            <p class="no-data">No recent activity</p>
          </div>
        </div>
      </section>

      <!-- Alumni Management Section -->
      <section id="alumni-section" class="content-section">
        <div class="section-header">
          <div class="search-filter">
            <div class="search-box-admin">
              <i class="fas fa-search"></i>
              <input
                type="text"
                id="alumniSearch"
                placeholder="Search alumni..."
              />
            </div>
            <select id="batchFilter" class="filter-select">
              <option value="">All Batches</option>
            </select>
            <select id="statusFilter" class="filter-select">
              <option value="">All Status</option>
              <option value="Employed">Employed</option>
              <option value="Self-Employed">Self-Employed</option>
              <option value="Job Seeking">Job Seeking</option>
              <option value="Unemployed">Unemployed</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table class="alumni-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Batch</th>
                <th>Age</th>
                <th>Employment Status</th>
                <th>Current Position</th>
                <th>Licenses</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="alumniTableBody"></tbody>
          </table>
        </div>
      </section>

      <!-- Add Alumni Section -->
      <section id="add-section" class="content-section">
        <div class="form-card">
          <h2>Add New Alumni</h2>
          <form id="addAlumniForm">
            <div class="form-section">
              <h3><i class="fas fa-user"></i> Personal Information</h3>
              <div class="form-grid">
                <div class="form-group">
                  <label for="addName">Full Name *</label>
                  <input type="text" id="addName" required />
                </div>
                <div class="form-group">
                  <label for="addBatch">Batch Year *</label>
                  <input
                    type="number"
                    id="addBatch"
                    min="2000"
                    max="2030"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="addAge">Age *</label>
                  <input
                    type="number"
                    id="addAge"
                    min="20"
                    max="100"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="addIieePosition">IIEE Position *</label>
                  <input
                    type="text"
                    id="addIieePosition"
                    placeholder="e.g., President, Member"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="addEmail">Email *</label>
                  <input type="email" id="addEmail" required />
                </div>
                <div class="form-group">
                  <label for="addEmploymentStatus">Employment Status *</label>
                  <select id="addEmploymentStatus" required>
                    <option value="">Select Status</option>
                    <option value="Employed">Employed</option>
                    <option value="Self-Employed">Self-Employed</option>
                    <option value="Job Seeking">Job Seeking</option>
                    <option value="Unemployed">Unemployed</option>
                  </select>
                </div>
              </div>
            </div>

            <div class="form-section">
              <h3><i class="fas fa-history"></i> Past Employment History</h3>
              <div id="pastJobsContainer">
                <div class="past-job-entry">
                  <div class="form-grid">
                    <div class="form-group">
                      <label>Position</label>
                      <input type="text" class="pastJob-position" />
                    </div>
                    <div class="form-group">
                      <label>Company</label>
                      <input type="text" class="pastJob-company" />
                    </div>
                    <div class="form-group">
                      <label>Location</label>
                      <select
                        class="pastJob-location"
                        onchange="togglePastJobCustomLocation(this)"
                      >
                        <option value="">Select Location</option>
                        <option value="Local">Local</option>
                        <option value="Overseas">Overseas</option>
                        <option value="Custom">Custom Location</option>
                      </select>
                    </div>
                    <div
                      class="form-group pastJob-customLocation-group"
                      style="display: none"
                    >
                      <label>Custom Location</label>
                      <input
                        type="text"
                        class="pastJob-customLocation"
                        placeholder="Enter specific location"
                      />
                    </div>
                    <div class="form-group">
                      <label>Year</label>
                      <input
                        type="text"
                        class="pastJob-year"
                        placeholder="e.g., 2018-2020"
                      />
                    </div>
                    <div class="form-group full-width">
                      <label>Achievements</label>
                      <textarea
                        class="pastJob-achievements"
                        rows="2"
                      ></textarea>
                    </div>
                  </div>
                  <button
                    type="button"
                    class="btn-remove"
                    onclick="removePastJob(this)"
                  >
                    <i class="fas fa-minus"></i> Remove
                  </button>
                </div>
              </div>
              <button
                type="button"
                class="btn-secondary"
                onclick="addPastJob()"
                style="margin-top: 10px"
              >
                <i class="fas fa-plus"></i> Add Past Job
              </button>
            </div>

            <div class="form-section">
              <h3><i class="fas fa-briefcase"></i> Current Employment</h3>
              <div class="form-grid">
                <div class="form-group">
                  <label for="addCurrentPosition">Position</label>
                  <input type="text" id="addCurrentPosition" />
                </div>
                <div class="form-group">
                  <label for="addCurrentCompany">Company</label>
                  <input type="text" id="addCurrentCompany" />
                </div>
                <div class="form-group">
                  <label for="addCurrentLocation">Location</label>
                  <select
                    id="addCurrentLocation"
                    onchange="toggleCustomLocation('add')"
                  >
                    <option value="">Select Location</option>
                    <option value="Local">Local</option>
                    <option value="Overseas">Overseas</option>
                    <option value="Custom">Custom Location</option>
                  </select>
                </div>
                <div
                  class="form-group"
                  id="addCustomLocationGroup"
                  style="display: none"
                >
                  <label for="addCustomLocation">Custom Location</label>
                  <input
                    type="text"
                    id="addCustomLocation"
                    placeholder="Enter specific location"
                  />
                </div>
                <div class="form-group">
                  <label for="addCurrentYear">Year</label>
                  <input
                    type="text"
                    id="addCurrentYear"
                    placeholder="e.g., 2020-Present"
                  />
                </div>
                <div class="form-group full-width">
                  <label for="addCurrentAchievements">Achievements</label>
                  <textarea id="addCurrentAchievements" rows="3"></textarea>
                </div>
              </div>
            </div>

            <div class="form-section">
              <h3><i class="fas fa-store"></i> Business Information</h3>
              <div class="form-grid">
                <div class="form-group">
                  <label for="addBusinessName">Business Name</label>
                  <input type="text" id="addBusinessName" />
                </div>
                <div class="form-group">
                  <label for="addBusinessType">Business Type</label>
                  <input type="text" id="addBusinessType" />
                </div>
                <div class="form-group">
                  <label for="addBusinessLocation">Location</label>
                  <input type="text" id="addBusinessLocation" />
                </div>
                <div class="form-group full-width">
                  <label for="addBusinessDescription">Description</label>
                  <textarea id="addBusinessDescription" rows="3"></textarea>
                </div>
              </div>
            </div>

            <div class="form-section">
              <h3><i class="fa-solid fa-id-card"></i> Professional Licenses</h3>
              <div id="licenseContainer">
                <div class="license-row">
                  <select
                    class="license-type"
                    onchange="toggleCustomLicense(this)"
                  >
                    <option value="">Select License</option>
                    <option value="REE">REE</option>
                    <option value="RME">RME</option>
                    <option value="PEE">PEE</option>
                    <option value="Custom">Custom License</option>
                  </select>
                  <input
                    type="text"
                    class="license-custom"
                    placeholder="Enter license type"
                    style="display: none"
                  />
                  <input
                    type="number"
                    class="license-year"
                    placeholder="Year"
                    min="2000"
                    max="2050"
                  />
                  <button
                    type="button"
                    class="btn-icon"
                    onclick="addLicenseRow()"
                    title="Add License"
                  >
                    <i class="fas fa-plus"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn-primary">
                <i class="fas fa-save"></i> Save Alumni
              </button>
              <button type="reset" class="btn-secondary">
                <i class="fas fa-undo"></i> Reset Form
              </button>
            </div>
          </form>
        </div>
      </section>

      <!-- Admin Settings Section -->
      <section id="settings-section" class="content-section">
        <div class="form-card">
          <div class="settings-header">
            <h2><i class="fas fa-cog"></i> Admin Settings</h2>
            <button class="btn-primary" onclick="openCreateAdminModal()">
              <i class="fas fa-user-plus"></i> Create New Admin
            </button>
          </div>

          <div class="settings-content">
            <h3>Admin Accounts</h3>
            <div class="table-container">
              <table class="alumni-table">
                <thead>
                  <tr>
                    <th>Username</th>
                    <th>Created Date</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="adminAccountsBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Edit Alumni Modal -->
    <div id="editModal" class="modal">
      <div class="modal-content modal-large">
        <span class="close">&times;</span>
        <h2>Edit Alumni Information</h2>
        <form id="editAlumniForm">
          <input type="hidden" id="editId" />

          <div class="form-section">
            <h3><i class="fas fa-user"></i> Personal Information</h3>
            <div class="form-grid">
              <div class="form-group">
                <label for="editName">Full Name *</label>
                <input type="text" id="editName" required />
              </div>
              <div class="form-group">
                <label for="editBatch">Batch Year *</label>
                <input
                  type="number"
                  id="editBatch"
                  min="2000"
                  max="2030"
                  required
                />
              </div>
              <div class="form-group">
                <label for="editAge">Age *</label>
                <input type="number" id="editAge" min="20" max="100" required />
              </div>
              <div class="form-group">
                <label for="editIieePosition">IIEE Position *</label>
                <input
                  type="text"
                  id="editIieePosition"
                  placeholder="e.g., President, Member"
                  required
                />
              </div>
              <div class="form-group">
                <label for="editEmail">Email *</label>
                <input type="email" id="editEmail" required />
              </div>
              <div class="form-group">
                <label for="editEmploymentStatus">Employment Status *</label>
                <select id="editEmploymentStatus" required>
                  <option value="Employed">Employed</option>
                  <option value="Self-Employed">Self-Employed</option>
                  <option value="Job Seeking">Job Seeking</option>
                  <option value="Unemployed">Unemployed</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-history"></i> Past Employment History</h3>
            <div id="editPastJobsContainer"></div>
            <button
              type="button"
              class="btn-secondary"
              onclick="addEditPastJob()"
              style="margin-top: 10px"
            >
              <i class="fas fa-plus"></i> Add Past Job
            </button>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-briefcase"></i> Current Employment</h3>
            <div class="form-grid">
              <div class="form-group">
                <label for="editCurrentPosition">Position</label>
                <input type="text" id="editCurrentPosition" />
              </div>
              <div class="form-group">
                <label for="editCurrentCompany">Company</label>
                <input type="text" id="editCurrentCompany" />
              </div>
              <div class="form-group">
                <label for="editCurrentLocation">Location</label>
                <select
                  id="editCurrentLocation"
                  onchange="toggleCustomLocation('edit')"
                >
                  <option value="">Select Location</option>
                  <option value="Local">Local</option>
                  <option value="Overseas">Overseas</option>
                  <option value="Custom">Custom Location</option>
                </select>
              </div>
              <div
                class="form-group"
                id="editCustomLocationGroup"
                style="display: none"
              >
                <label for="editCustomLocation">Custom Location</label>
                <input
                  type="text"
                  id="editCustomLocation"
                  placeholder="Enter specific location"
                />
              </div>
              <div class="form-group">
                <label for="editCurrentYear">Year</label>
                <input type="text" id="editCurrentYear" />
              </div>
              <div class="form-group full-width">
                <label for="editCurrentAchievements">Achievements</label>
                <textarea id="editCurrentAchievements" rows="3"></textarea>
              </div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-primary">
              <i class="fas fa-save"></i> Update Alumni
            </button>
            <button
              type="button"
              class="btn-secondary"
              onclick="closeEditModal()"
            >
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Create Admin Modal -->
    <div id="createAdminModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2><i class="fas fa-user-plus"></i> Create Admin Account</h2>
        <form id="createAdminForm">
          <div class="form-group">
            <label for="newAdminUsername">Username *</label>
            <input type="text" id="newAdminUsername" required minlength="3" />
          </div>
          <div class="form-group">
            <label for="newAdminPassword">Password *</label>
            <input
              type="password"
              id="newAdminPassword"
              required
              minlength="6"
            />
          </div>
          <div class="form-group">
            <label for="newAdminConfirmPassword">Confirm Password *</label>
            <input
              type="password"
              id="newAdminConfirmPassword"
              required
              minlength="6"
            />
          </div>
          <div class="form-actions">
            <button type="submit" class="btn-primary">
              <i class="fas fa-save"></i> Create Account
            </button>
            <button
              type="button"
              class="btn-secondary"
              onclick="closeCreateAdminModal()"
            >
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2><i class="fas fa-key"></i> Change Password</h2>
        <p class="modal-subtitle">
          Changing password for: <strong id="changePasswordUsername"></strong>
        </p>
        <form id="changePasswordForm">
          <input type="hidden" id="changePasswordId" />
          <div class="form-group">
            <label for="currentPassword">Current Password *</label>
            <input type="password" id="currentPassword" required />
          </div>
          <div class="form-group">
            <label for="newPassword">New Password *</label>
            <input type="password" id="newPassword" required minlength="6" />
          </div>
          <div class="form-group">
            <label for="confirmNewPassword">Confirm New Password *</label>
            <input
              type="password"
              id="confirmNewPassword"
              required
              minlength="6"
            />
          </div>
          <div class="form-actions">
            <button type="submit" class="btn-primary">
              <i class="fas fa-save"></i> Update Password
            </button>
            <button
              type="button"
              class="btn-secondary"
              onclick="closeChangePasswordModal()"
            >
              <i class="fas fa-times"></i> Cancel
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Notification Modal -->
    <div id="notificationModal" class="modal notification-modal">
      <div class="modal-content notification-content">
        <div class="notification-body">
          <i id="notificationIcon" class="fas fa-check-circle"></i>
          <p id="notificationText">Operation completed successfully!</p>
        </div>
        <button class="btn-primary" id="notificationOk">OK</button>
      </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal confirmation-modal">
      <div class="modal-content confirmation-content">
        <div class="confirmation-body">
          <i class="fas fa-exclamation-triangle"></i>
          <p id="confirmText">Are you sure?</p>
        </div>
        <div class="confirmation-actions">
          <button class="btn-primary" id="confirmYes">Yes</button>
          <button class="btn-secondary" id="confirmNo">No</button>
        </div>
      </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>
